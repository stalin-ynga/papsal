var jqTreeViewInstances=[],jqDestinationTreeView=null,jqSourceTreeView=null;
(function(e,j,i){function c(a,b){jqTreeViewInstances[jqTreeViewInstances.length]=this;this.options=e.extend({},k,b);this.renderRootElements();this.renderAccessLink();this.renderUniqueID();this.self=e(a).find("ul:eq(0)");this.accessLink=e("#"+b.id+"_accessLink");this.toggleActive=l;this.focusedNode=this.hoveredNode=this.dropHint=this.dragDiv=null;this.draggedNodes=[];this.leftMouseButtonPressed=!1;this.self.prop("treeview",this);this.self.addClass("ui-widget ui-widget-content ui-jqtreeview");0<this.options.nodes.length?
this.nodesLoaded(this.options.nodes):this.loadNodes()}var k={checkBoxes:!1,dataUrl:"",dragAndDrop:!1,dragAndDropUrl:"",height:500,hoverOnMouseOver:!0,id:"",nodes:[],multipleSelect:!1,nodeTemplateID:"",onExpand:null,onCollapse:null,onCheck:null,onSelect:null,onMouseOver:null,onMouseOut:null,onKeyDown:null,onNodesDragged:null,onNodesMoved:null,onNodesDropped:null,width:300},l=!1;c.prototype.renderRootElements=function(){e("#"+this.options.id).prop("id",this.options.id+"_wrapper").addClass("ui-widget ui-jqtreeview-wrapper").css({width:this.options.width,
height:this.options.height}).append(e("<ul/>").prop("id",this.options.id))};c.prototype.renderAccessLink=function(){e(i.body).append(e("<div/>").css({position:"absolute",top:"-9999px",left:"-9999px;"}).append(e('<a  tabindex="1"/>').prop("id",this.options.id+"_accessLink")))};c.prototype.renderUniqueID=function(){if(this.options.uniqueID){var a=e(i.body).find("form");0<a.length&&a.append("<input type='hidden' id='"+this.options.uniqueID+"' name='"+this.options.uniqueID+"'></input>")}};c.prototype.loadNodes=
function(){e.ajax({url:this.options.dataUrl,type:"GET",success:this.executeInContext(this,this.nodesLoaded)})};c.prototype.getUrlAppendChar=function(a){return-1!==a.indexOf("?")?"&":"?"};c.prototype.loadChildNodes=function(a,b,d){var c=this,f=this.options.dataUrl+this.getUrlAppendChar(this.options.dataUrl),f=f+"parentNodeValue="+encodeURIComponent(a),f=f+"&clientID="+encodeURIComponent(this.options.id),h=b?b:this.self;e.ajax({url:f,type:"GET",success:function(a){c.renderNodes(e.parseJSON(a),h);c.serializeCheckedState();
c.serializeSelectedState();c.serializeExpandedState();d.trigger("expand")}})};c.prototype.executeInContext=function(a,b){return function(){b.apply(a,arguments)}};c.prototype.nodesLoaded=function(a){var b=a;e.isArray(a)||(b=e.parseJSON(a));this.renderNodes(b,this.self);this.renderHiddenStateFields();this.attachEvents();this.serializeCheckedState();this.serializeSelectedState();this.serializeExpandedState()};c.prototype.renderNodes=function(a,b){var d=this;b.empty();e.each(a,function(a,c){d.renderNode(c,
b)})};c.prototype.renderNode=function(a,b){var d=!0;"undefined"===typeof a.enabled?d=!0:a.enabled||(d=!1);var d=e.extend({treeView:this,treeViewID:this.options.id,expanded:a.expanded?!0:!1,selected:a.selected?!0:!1,enabled:d,loadOnDemand:a.loadOnDemand?!0:!1,expandedLiClass:a.expanded?"ui-jqtreeview-item-expanded":"",url:a.url?"href="+a.url:"",tabindex:a.selected?0:-1,itemCssClass:this.getItemCssClass(a),expandImageCssClass:this.getExpandImageCssClass(a),initialDisplay:a.expanded?"block":"none",initialImage:this.getCurrentNodeImage(a),
checkBoxes:this.options.checkBoxes,initialCheckedState:a.checked?"checked":"",selectedCssClass:a.selected?"ui-state-highlight":"",disabledItemTextClass:d?"":"ui-jqtreeview-item-text-disabled",showExpandImage:a.nodes||a.loadOnDemand,hovered:!1},a),c=this.getNodeContent(a),c=e(this.renderNodeHtml(d,c)),f=b.append(c).find("ul:last");c.data("options",d);a.nodes&&this.renderNodes(a.nodes,f)};c.prototype.getNodeContent=function(a){var b=a.text,d="";this.options.nodeTemplateID&&(d=this.options.nodeTemplateID);
a.nodeTemplateID&&(d=a.nodeTemplateID);d&&(b=this.renderTemplate(d,templatedOptions));return b};c.prototype.renderNodeHtml=function(a,b){var d=[];d[d.length]="<li class='ui-jqtreeview-item "+a.expandedLiClass+"'>";d[d.length]="<a tabindex="+a.tabindex+" "+a.url+" class='"+a.itemCssClass+"' onfocus='this.blur();'>";d[d.length]="<table cellpadding=0 cellspacing=0 class='ui-helper-reset'>";d[d.length]="<tr class='ui-jqtreeview-aref "+a.selectedCssClass+"'>";a.showExpandImage&&(d[d.length]="<td valign=middle style='width:0px !important'><span class='ui-icon ui-jqtreeview-item-expand-image "+
a.expandImageCssClass+"'></span></td>");a.checkBoxes&&(d[d.length]="<td valign=middle style='width:21px;text-align:center;'><input type='checkbox' class='ui-jqtreeview-item-checkbox' "+a.initialCheckedState+"></input></td>");a.imageUrl&&(d[d.length]="<td valign=middle style='width:21px;text-align:center;'><img class='ui-jqtreeview-item-image' src='"+a.initialImage+"' /></td>");d[d.length]="<td valign=middle><span class='ui-jqtreeview-item-text "+a.disabledItemTextClass+"'>"+b+"</span></td>";d[d.length]=
"</tr></table></a>";a.showExpandImage&&(d[d.length]="<ul style='display:"+a.initialDisplay+"'></ul>");d[d.length]="</li>";return d.join("")};c.prototype.getItemCssClass=function(a){var b;b="".concat(" ui-corner-all ui-jqtreeview-aref");a.nodes&&(b=b.concat(" ui-jqtreeview-parent"),a.expanded||(b=b.concat(" ui-jqtreeview-parent-collapsed")));return b};c.prototype.renderTemplate=function(a,b){if(e.isFunction(e.tmpl))if(0===e("#"+a).length)alert("You have not specified a jQuery template with ID "+a+
" that is not defined on the page");else return b?e("#"+a).tmpl(b).clone().wrap("<div></div>").parent().html():e("#"+a).tmpl().clone().wrap("<div></div>").parent().html();else alert("You have specified using templates with jqTreeView, but the jQuery template library javascript is not referenced in the HTML.")};c.prototype.renderHiddenStateFields=function(){var a=this.getCheckedStateHiddenID(),b=this.getSelectedStateHiddenID(),d=this.getExpandedStateHiddenID();this.self.remove("#"+a).append("<input type='hidden' id='"+
a+"' name='"+a+"'></input>");this.self.remove("#"+b).append("<input type='hidden' id='"+b+"' name='"+b+"'></input>");this.self.remove("#"+d).append("<input type='hidden' id='"+d+"' name='"+d+"'></input>")};c.prototype.getCheckedStateHiddenID=function(){return this.options.id+"_checkedState"};c.prototype.getSelectedStateHiddenID=function(){return this.options.id+"_selectedState"};c.prototype.getExpandedStateHiddenID=function(){return this.options.id+"_expandedState"};c.prototype.serializeCheckedState=
function(){for(var a=this.getCheckedNodes(),b=[],d=0;d<a.length;d++)b[b.length]=this.serializeNode(a[d]);e("#"+this.getCheckedStateHiddenID()).val(JSON.stringify(b))};c.prototype.serializeSelectedState=function(){for(var a=this.getSelectedNodes(),b=[],d=0;d<a.length;d++)b[b.length]=this.serializeNode(a[d]);e("#"+this.getSelectedStateHiddenID()).val(JSON.stringify(b))};c.prototype.serializeExpandedState=function(){for(var a=this.getExpandedNodes(),b=[],d=0;d<a.length;d++)b[b.length]=this.serializeNode(a[d]);
e("#"+this.getExpandedStateHiddenID()).val(JSON.stringify(b))};c.prototype.serializeNode=function(a){var b=this.getNodeOptions(e(a)),d={};b.text&&(d.text=b.text);b.value&&(d.value=b.value);b.checked&&(d.checked=!0);e(a).hasClass("ui-state-highlight")&&(d.selected=!0);d.treeViewID=b.treeViewID;return d};c.prototype.getNodeOptions=function(a){return this.getNodeParentLiElement(a).data("options")};c.prototype.getNodeParentLiElement=function(a){!1===a instanceof jQuery&&(a=e(a));return a.hasClass("ui-jqtreeview-item")?
a:a.parents("li:eq(0)")};c.prototype.getNodeTableElement=function(a){return this.getNodeParentLiElement(a).find("table:eq(0)")};c.prototype.getNodeImageElement=function(a){return this.getNodeParentLiElement(a).find(".ui-jqtreeview-item-image:eq(0)")};c.prototype.getNodeCheckBoxElement=function(a){return this.getNodeParentLiElement(a).find(".ui-jqtreeview-item-checkbox:eq(0)")};c.prototype.getNodeTextElement=function(a){return this.getNodeParentLiElement(a).find(".ui-jqtreeview-item-text:eq(0)")};
c.prototype.getNodeExpandImageElement=function(a){return this.getNodeParentLiElement(a).find(".ui-jqtreeview-item-expand-image:eq(0)")};c.prototype.getNodeChildUlElement=function(a){return a.parents("a:eq(0)").next()};c.prototype.getExpandImageCssClass=function(a){return a.expanded?"ui-icon-circlesmall-minus large":"ui-icon-circlesmall-plus large"};c.prototype.getCurrentNodeImage=function(a){if(a.expandedImageUrl&&a.expanded)return a.expandedImageUrl;if(a.imageUrl)return a.imageUrl};c.prototype.attachEvents=
function(){this.self.bind("mouseover",this.executeInContext(this,this.handleMouseOver)).bind("mouseout",this.executeInContext(this,this.handleMouseOut)).bind("expand",this.executeInContext(this,this.handleExpand)).bind("collapse",this.executeInContext(this,this.handleCollapse)).bind("toggle",this.executeInContext(this,this.handleToggle)).bind("click",this.executeInContext(this,this.handleClick)).bind("mousedown",this.executeInContext(this,this.handleMouseDown));this.accessLink.bind("focus",this.executeInContext(this,
this.handleFocus)).bind("blur",this.executeInContext(this,this.handleBlur)).bind("keydown",this.executeInContext(this,this.handleKeyDown));e(i).bind("mousemove",this.executeInContext(this,this.handleMouseMove)).bind("mouseup",this.executeInContext(this,this.handleMouseUp))};c.prototype.handleFocus=function(a){a&&this.focusNode(this.getFocusedNode())};c.prototype.handleBlur=function(){var a=this.focusedNode;this.unfocusNode(this.focusedNode);this.focusedNode=a};c.prototype.focusNode=function(a){var b=
this.getNodeOptions(a),d=a.find("tr.ui-jqtreeview-aref:first");d.length&&!d.hasClass("ui-state-focus")&&(d.addClass("ui-state-focus").addClass("ui-jqtreeview-focus"),b.focused=!0,this.focusedNode=a)};c.prototype.unfocusNode=function(a){var b=this.getNodeOptions(a),a=a.find("tr.ui-jqtreeview-aref:first");a.length&&a.hasClass("ui-state-focus")&&(a.removeClass("ui-state-focus").removeClass("ui-jqtreeview-focus"),b.focused=!1,this.focusedNode=null)};c.prototype.handleKeyDown=function(a){if(this.options.onKeyDown){var b=
this.options.onKeyDown(this,a);if(!1===b)return}var d=this.focusedNode,c;switch(a.keyCode){case 40:(c=this.getNextActiveChildNode(this.focusedNode))||(c=this.getNextActiveSiblingNode(this.focusedNode));c||(c=this.getNextActiveNode(this.focusedNode));c&&(this.unfocusNode(d),this.focusNode(c));break;case 38:(c=this.getPrevActiveSiblingNode(this.focusedNode))&&(c=this.getLastVisibleNode(c));c||(c=this.getActiveParentNode(this.focusedNode));break;case 13:(!this.options.multipleSelect||!a.ctrlKey)&&this.unSelectAll();
this.select(this.getNodeTextElement(this.focusedNode),a);break;case 32:if(this.options.checkBoxes&&this.focusedNode){var b=this.getNodeOptions(this.focusedNode),e=this.getNodeCheckBoxElement(this.focusedNode);b.checked=!b.checked;e.prop("checked",b.checked);if(this.options.onCheck&&(b=this.options.onCheck(node,a),!1===b))return!1;this.serializeCheckedState()}break;case 39:case 187:this.focusedNode&&0<this.focusedNode.children("ul").children("li").length&&!1===this.getNodeOptions(this.focusedNode).expanded&&
this.handleToggle(a,this.focusedNode);break;case 37:case 189:this.focusedNode&&0<this.focusedNode.children("ul").children("li").length&&!0===this.getNodeOptions(this.focusedNode).expanded&&this.handleToggle(a,this.focusedNode)}if(c)return this.unfocusNode(d),this.focusNode(c),a.preventDefault(),!1};c.prototype.getLastVisibleNode=function(a){if(a.children("ul").children("li").length&&!this.getNodeOptions(a).expanded)return a;for(;;){var b=a.children("ul").children("li");if(!b.length)return a;if(!b.length)break;
for(var d=0;d<b.length;d++){var c=b.eq(d);this.getNodeOptions(c).enabled&&(a=c)}}};c.prototype.getFocusedNode=function(){return!this.focusedNode?this.self.find("li:first"):this.focusedNode};c.prototype.getNextActiveChildNode=function(a){if(this.getNodeOptions(a).expanded)for(var a=a.children("ul").children("li"),b=0;b<a.length;b++)if(this.getNodeOptions(a.eq(b)).enabled)return a.eq(b);return null};c.prototype.getActiveParentNode=function(a){a=a.closest("ul").closest("li");return a.length?a:null};
c.prototype.getNextActiveSiblingNode=function(a){for(var b=a.next();0<b.length&&"LI"==b.prop("tagName");){if(this.getNodeOptions(b).enabled)return b;b=a.next()}return null};c.prototype.getPrevActiveSiblingNode=function(a){for(var b=a.prev();0<b.length&&"LI"==b.prop("tagName");){if(this.getNodeOptions(b).enabled)return b;b=a.prevNode()}return null};c.prototype.getPrevActiveNode=function(){};c.prototype.getNextActiveNode=function(a){for(a=a.closest("ul").closest("li");a.length;){var b=this.getNextActiveSiblingNode(a);
if(b)return b;a=a.closest("ul").closest("li")}return null};c.prototype.handleMouseOver=function(a){var b=e(a.target);if(!b.hasClass("ui-jqtreeview-item-expand-image")){var d=this.getNodeParentLiElement(b),c=this.getNodeOptions(b);if(this.options.hoverOnMouseOver&&c.enabled){var f=e(b).parents("tr.ui-jqtreeview-aref:first");f.length&&!f.hasClass("ui-state-hover")&&(f.addClass("ui-state-hover").addClass("ui-jqtreeview-hover"),c.hovered=!0,this.hoveredNode=d)}this.options.dragAndDrop&&this.dragDiv&&
b.hasClass("ui-jqtreeview-aref")&&d.find("tr.ui-jqtreeview-aref:first").offset();if(this.options.onMouseOver)this.options.onMouseOver(d,a)}};c.prototype.handleMouseOut=function(a){var b=e(a.target);this.getNodeOptions(b).hovered=!1;this.hoveredNode=null;this.options.hoverOnMouseOver&&this.self.find(".ui-state-hover").removeClass("ui-state-hover");if(this.options.onMouseOut)this.options.onMouseOut(this.getNodeParentLiElement(b),a)};c.prototype.handleExpand=function(a){if(!this.toggleActive){var b=
e(a.target),d=this.getNodeOptions(b);d.enabled&&(d.expanded=!0,this.options.onExpand&&!1===this.options.onExpand(this.getNodeParentLiElement(b),a)?d.expanded=!0:(this.toggleActive=!0,this.getNodeParentLiElement(b).addClass("ui-jqtreeview-item-expanded"),b.removeClass("ui-icon-circlesmall-plus large").addClass("ui-icon-circlesmall-minus large"),this.getNodeImageElement(b).attr("src",this.getCurrentNodeImage(d)),this.getNodeChildUlElement(b).hide().slideDown(120,this.executeInContext(this,this.toggleEnded)),
this.serializeExpandedState()))}};c.prototype.handleCollapse=function(a){if(!this.toggleActive){var b=e(a.target),d=this.getNodeOptions(b);d.enabled&&(d.expanded=!1,this.options.onCollapse&&!1===this.options.onCollapse(this.getNodeParentLiElement(b),a)?d.expanded=!0:(this.toggleActive=!0,this.getNodeParentLiElement(b).removeClass("ui-jqtreeview-item-expanded"),b.removeClass("ui-icon-circlesmall-minus").addClass("ui-icon-circlesmall-plus large"),this.getNodeImageElement(b).attr("src",this.getCurrentNodeImage(d)),
this.getNodeChildUlElement(b).slideUp(120,this.executeInContext(this,this.toggleEnded)),this.serializeExpandedState()))}};c.prototype.toggleEnded=function(){this.toggleActive=!1};c.prototype.handleToggle=function(a,b){var d=b?this.getNodeExpandImageElement(b):e(a.target),c=this.getNodeOptions(d),f=c.expanded;c.loadOnDemand&&!f?(f=this.getNodeChildUlElement(d),this.loadChildNodes(c.value,f,d)):f?d.trigger("collapse"):d.trigger("expand")};c.prototype.handleClick=function(a){var b=e(a.target),d=this.getNodeParentLiElement(b),
c=this.getNodeOptions(b);if(b.hasClass("ui-jqtreeview-item-checkbox")){this.handleFocus(!1);c.checked=b.prop("checked");if(this.options.onCheck&&!1===this.options.onCheck(d,a))return!1;this.serializeCheckedState()}else{if(b.hasClass("ui-jqtreeview-item-expand-image"))return this.handleToggle(a),!1;(!this.options.multipleSelect||!a.ctrlKey)&&this.unSelectAll();this.accessLink.focus();this.select(b,a)}};c.prototype.handleMouseDown=function(a){var b=e(a.target),d=this.getNodeParentLiElement(b);this.getNodeTableElement(b);
this.getNodeOptions(b);if(d&&this.options.dragAndDrop&&1===a.which)return this.leftMouseButtonPressed=!0,j.setTimeout(this.executeInContext(this,function(){if(this.leftMouseButtonPressed){this.draggedNodes=[];var b=this.self.find(".ui-state-hover");if(0===b.length||b.is(".ui-state-highlight"))b=this.self.find(".ui-state-highlight");e.each(b,this.executeInContext(this,function(a,b){this.draggedNodes.push(e(b).parents("li:eq(0)"))}));this.dragDiv=this.cloneSelectedNodes(this.draggedNodes,a);this.options.onNodesDragged&&
(b={},b.draggedNodes=this.draggedNodes,b.sourceTreeView=this,this.options.onNodesDragged(b,a));jqSourceTreeView=this;return!1}}),150),!1};c.prototype.handleMouseMove=function(a){if(this.options.dragAndDrop&&this.dragDiv){this.dragDiv.css({top:a.pageY+2,left:a.pageX+2});if(this.options.onNodesMoved){var b={};b.movedNodes=this.draggedNodes;b.sourceTreeView=this;this.options.onNodesMoved(b,a)}a.preventDefault();return!1}};c.prototype.handleMouseUp=function(a){this.leftMouseButtonPressed=!1;if(this.options.dragAndDrop&&
this.dragDiv){this.dragDiv.remove();this.dragDiv=null;var b=this.getDestinationNode();if(this.options.onNodesDropped){var d={};d.draggedNodes=this.draggedNodes;d.sourceTreeView=jqSourceTreeView;d.destinationNode=b;d.destinationTreeView=jqDestinationTreeView;if(!1===this.options.onNodesDropped(d,a))return}if(b&&0<this.draggedNodes.length){for(a=0;a<this.draggedNodes.length;a++){var c=this.draggedNodes[a];this.getNodeOptions(c);this.getNodeOptions(b);!c.is(b)&&0===c.has(b).length&&(d=b.children().last(),
c=e("<ul />").prepend(c),d.after(c))}if(this.options.dragAndDropUrl){d={draggedNodes:[]};for(a=0;a<this.draggedNodes.length;a++)d.draggedNodes.push(this.serializeNode(this.draggedNodes[a]));d.destinationTreeViewID=jqDestinationTreeView.options.id;d.sourceTreeViewID=jqSourceTreeView.options.id;d.destinationNode=this.serializeNode(b);b=JSON.stringify(d);a=this.options.dragAndDropUrl+this.getUrlAppendChar(this.options.dragAndDropUrl);a=a+"&clientID="+encodeURIComponent(this.options.id);e.ajax({url:a+
"&jqTreeViewNodesDropped=true",type:"GET",contentType:"application/json; charset=utf-8",data:{args:b}})}}}};c.prototype.getSourceTreeView=function(){for(var a=0;a<jqTreeViewInstances.length;a++){var b=jqTreeViewInstances[a];if(b.draggedNodes.length)return b}return null};c.prototype.createDropHint=function(a,b,d){this.dropHint=e("<div id='jqTreeViewDropHint' class='ui-jqtreeview-drop-hint' />").css({visibility:"visible",top:b,left:a,width:d});e(i.body).append(this.dropHint);return this.dropHint};c.prototype.destroyDropHint=
function(){e("#jqTreeViewDropHint").remove();this.dropHint=null};c.prototype.cloneSelectedNodes=function(a,b){var d=e("<div />").css({padding:0,margin:0,position:"absolute",zIndex:1E3,top:b.pageY+2,left:b.pageX+2}).addClass("ui-widget-content ui-corner-all"),c=e("<ul class='ui-widget ui-widget-content ui-jqtreeview'>");d.append(c);for(var f=0;f<a.length;f++){var h=this.getNodeOptions(a[f]),g=this.getNodeContent(h),g=e(this.renderNodeHtml(h,g));g.css({padding:"0px 0px 0px 0px"});g.find("a").css({padding:"0px 0px 0px 0px"});
h.showExpandImage&&g.find("td:eq(0)").remove();h.checkBoxes&&g.find("td:eq(0)").remove();c.append(g)}e(i.body).append(d);return d};c.prototype.createClonedNpde=function(){};c.prototype.getDestinationNode=function(){for(var a=0;a<jqTreeViewInstances.length;a++){var b=jqTreeViewInstances[a];if(b.hoveredNode)return jqDestinationTreeView=b,b.hoveredNode}return null};c.prototype.getNodeByText=function(a){a=this.self.find(".ui-jqtreeview-item-text:contains('"+a+"'):eq(0)");return 0<a.length?a:null};c.prototype.getNodeByValue=
function(a){var b=this;b.resultNode=null;var c=this.self.find(".ui-jqtreeview-item-text");e.each(c,function(c,d){if(b.getNodeOptions(e(d)).value==a)return b.resultNode=e(d),!1});return b.resultNode};c.prototype.getAllNodes=function(){return this.self.find(".ui-jqtreeview-item")};c.prototype.check=function(a){var a=e(a),b=this.getNodeCheckBoxElement(a);b&&(this.getNodeOptions(a).checked=!0,b.prop("checked",!0),this.serializeCheckedState())};c.prototype.unCheck=function(a){var a=e(a),b=this.getNodeCheckBoxElement(a);
b&&(this.getNodeOptions(a).checked=!1,b.prop("checked",!1),this.serializeCheckedState())};c.prototype.expand=function(a){a.trigger("expand")};c.prototype.collapse=function(a){a.trigger("collapse")};c.prototype.toggle=function(a){a.trigger("toggle")};c.prototype.expandAll=function(){this.self.find(".ui-jqtreeview-item-expand-image").trigger("expand")};c.prototype.collapseAll=function(){this.self.find(".ui-jqtreeview-item-expand-image").trigger("collapse")};c.prototype.select=function(a,b){if(this.getNodeOptions(a).enabled&&
!(this.options.onSelect&&!1===this.options.onSelect(a,b))){var c=e(a).parents("tr.ui-jqtreeview-aref:first");c&&e(c).addClass("ui-state-highlight");this.focusedNode&&this.unfocusNode(this.focusedNode);this.focusNode(this.getNodeParentLiElement(a));this.serializeSelectedState()}};c.prototype.unSelect=function(a){var b=e(a).parents("tr.ui-jqtreeview-aref:first");b&&e(b).removeClass("ui-state-highlight");this.focusedNodes==a&&(this.focusedNode=null);this.serializeSelectedState()};c.prototype.unSelectAll=
function(){this.self.find(".ui-state-highlight").removeClass("ui-state-highlight");this.serializeSelectedState()};c.prototype.getCheckedNodes=function(){var a=[],b=this;e.each(this.self.find("input:checked"),function(c,e){a[a.length]=b.getNodeParentLiElement(e)});return a};c.prototype.getSelectedNodes=function(){var a=[],b=this;e.each(this.self.find(".ui-state-highlight"),function(c,e){a[a.length]=b.getNodeParentLiElement(e)});return a};c.prototype.getExpandedNodes=function(){var a=[],b=this;e.each(this.self.find(".ui-jqtreeview-item-expanded"),
function(c,e){a[a.length]=b.getNodeParentLiElement(e)});return a};e.fn.jqTreeView=function(a){return this.each(function(){e.data(this,"plugin_jqTreeView")||e.data(this,"plugin_jqTreeView",new c(this,a))})};e.fn.getTreeViewInstance=function(){return e(this).prop("treeview")}})(jQuery,window,document);
